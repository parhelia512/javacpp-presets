// Targeted by JavaCPP version 1.5.13-SNAPSHOT: DO NOT EDIT THIS FILE

package org.bytedeco.onnxruntime;

import java.nio.*;
import org.bytedeco.javacpp.*;
import org.bytedeco.javacpp.annotation.*;

import static org.bytedeco.javacpp.presets.javacpp.*;
import org.bytedeco.opencl.*;
import static org.bytedeco.opencl.global.OpenCL.*;
import org.bytedeco.dnnl.*;
import static org.bytedeco.dnnl.global.dnnl.*;

import static org.bytedeco.onnxruntime.global.onnxruntime.*;


/** \brief Struct that an EP implements for external resource import (memory + semaphore import).
 *
 * This capability object provides methods for importing external GPU memory and semaphores
 * for zero-copy import. EPs that support D3D12, CUDA, HIP, or Vulkan external resource APIs
 * can implement this interface.
 *
 * @since Version 1.24.
 */
@Properties(inherit = org.bytedeco.onnxruntime.presets.onnxruntime.class)
public class OrtExternalResourceImporterImpl extends Pointer {
    static { Loader.load(); }
    /** Default native constructor. */
    public OrtExternalResourceImporterImpl() { super((Pointer)null); allocate(); }
    /** Native array allocator. Access with {@link Pointer#position(long)}. */
    public OrtExternalResourceImporterImpl(long size) { super((Pointer)null); allocateArray(size); }
    /** Pointer cast constructor. Invokes {@link Pointer#Pointer(Pointer)}. */
    public OrtExternalResourceImporterImpl(Pointer p) { super(p); }
    private native void allocate();
    private native void allocateArray(long size);
    @Override public OrtExternalResourceImporterImpl position(long position) {
        return (OrtExternalResourceImporterImpl)super.position(position);
    }
    @Override public OrtExternalResourceImporterImpl getPointer(long i) {
        return new OrtExternalResourceImporterImpl((Pointer)this).offsetAddress(i);
    }

  /** Must be initialized to ORT_API_VERSION */
  public native @Cast("uint32_t") int ort_version_supported(); public native OrtExternalResourceImporterImpl ort_version_supported(int setter);

  // Memory operations (stream-independent)

  /** \brief Check if the implementation can import external memory of the given handle type.
   *
   * @param this_ptr [in] Pointer to the OrtExternalResourceImporterImpl instance.
   * @param handle_type [in] The type of external memory handle to check.
   * @return True if the handle type is supported.
   *
   * @since Version 1.24.
   */
  public static class CanImportMemory_OrtExternalResourceImporterImpl_int extends FunctionPointer {
      static { Loader.load(); }
      /** Pointer cast constructor. Invokes {@link Pointer#Pointer(Pointer)}. */
      public    CanImportMemory_OrtExternalResourceImporterImpl_int(Pointer p) { super(p); }
      protected CanImportMemory_OrtExternalResourceImporterImpl_int() { allocate(); }
      private native void allocate();
      public native @Cast("bool") boolean call(
              @Const OrtExternalResourceImporterImpl this_ptr,
              @Cast("OrtExternalMemoryHandleType") int handle_type);
  }
  public native CanImportMemory_OrtExternalResourceImporterImpl_int CanImportMemory(); public native OrtExternalResourceImporterImpl CanImportMemory(CanImportMemory_OrtExternalResourceImporterImpl_int setter);

  /** \brief Import external memory.
   *
   * The EP creates a derived type of OrtExternalMemoryHandle and returns a pointer to the base.
   * EP is responsible for the lifetime of the handle (release via ReleaseMemory).
   *
   * @param this_ptr [in] Pointer to the OrtExternalResourceImporterImpl instance.
   * @param desc [in] Descriptor containing the external memory handle and properties.
   * @param out_handle [out] Output parameter set to the created OrtExternalMemoryHandle (EP's derived type).
   *
   * \snippet{doc} snippets.dox OrtStatus Return Value
   *
   * @since Version 1.24.
   */
  public native OrtStatus ImportMemory(
                    OrtExternalResourceImporterImpl this_ptr,
                    @Const OrtExternalMemoryDescriptor desc,
                    @Cast("OrtExternalMemoryHandle**") PointerPointer out_handle);
  public native OrtStatus ImportMemory(
                    OrtExternalResourceImporterImpl this_ptr,
                    @Const OrtExternalMemoryDescriptor desc,
                    @ByPtrPtr OrtExternalMemoryHandle out_handle);

  /** \brief Release an imported external memory handle.
   *
   * The EP deletes its derived type instance.
   *
   * @param this_ptr [in] Pointer to the OrtExternalResourceImporterImpl instance.
   * @param handle [in] The OrtExternalMemoryHandle to release (EP casts to its derived type).
   *
   * @since Version 1.24.
   */
  public static class ReleaseMemory_OrtExternalResourceImporterImpl_OrtExternalMemoryHandle extends FunctionPointer {
      static { Loader.load(); }
      /** Pointer cast constructor. Invokes {@link Pointer#Pointer(Pointer)}. */
      public    ReleaseMemory_OrtExternalResourceImporterImpl_OrtExternalMemoryHandle(Pointer p) { super(p); }
      protected ReleaseMemory_OrtExternalResourceImporterImpl_OrtExternalMemoryHandle() { allocate(); }
      private native void allocate();
      public native void call(
              OrtExternalResourceImporterImpl this_ptr,
              OrtExternalMemoryHandle handle);
  }
  public native ReleaseMemory_OrtExternalResourceImporterImpl_OrtExternalMemoryHandle ReleaseMemory(); public native OrtExternalResourceImporterImpl ReleaseMemory(ReleaseMemory_OrtExternalResourceImporterImpl_OrtExternalMemoryHandle setter);

  /** \brief Create a tensor backed by imported external memory.
   *
   * The created tensor is a view over the imported memory and does not copy data.
   *
   * @param this_ptr [in] Pointer to the OrtExternalResourceImporterImpl instance.
   * @param mem_handle [in] The imported external memory handle (EP casts to its derived type).
   * @param tensor_desc [in] Descriptor specifying tensor element type, shape, and optional offset.
   * @param out_tensor [out] Output parameter set to the created OrtValue containing the tensor.
   *
   * \snippet{doc} snippets.dox OrtStatus Return Value
   *
   * @since Version 1.24.
   */
  public native OrtStatus CreateTensorFromMemory(
                    OrtExternalResourceImporterImpl this_ptr,
                    @Const OrtExternalMemoryHandle mem_handle,
                    @Const OrtExternalTensorDescriptor tensor_desc,
                    @Cast("OrtValue**") PointerPointer out_tensor);
  public native OrtStatus CreateTensorFromMemory(
                    OrtExternalResourceImporterImpl this_ptr,
                    @Const OrtExternalMemoryHandle mem_handle,
                    @Const OrtExternalTensorDescriptor tensor_desc,
                    @ByPtrPtr OrtValue out_tensor);

  // Semaphore operations (require stream)

  /** \brief Check if the implementation can import external semaphores of the given type.
   *
   * @param this_ptr [in] Pointer to the OrtExternalResourceImporterImpl instance.
   * @param type [in] The type of external semaphore to check.
   * @return True if the semaphore type is supported.
   *
   * @since Version 1.24.
   */
  public static class CanImportSemaphore_OrtExternalResourceImporterImpl_int extends FunctionPointer {
      static { Loader.load(); }
      /** Pointer cast constructor. Invokes {@link Pointer#Pointer(Pointer)}. */
      public    CanImportSemaphore_OrtExternalResourceImporterImpl_int(Pointer p) { super(p); }
      protected CanImportSemaphore_OrtExternalResourceImporterImpl_int() { allocate(); }
      private native void allocate();
      public native @Cast("bool") boolean call(
              @Const OrtExternalResourceImporterImpl this_ptr,
              @Cast("OrtExternalSemaphoreType") int type);
  }
  public native CanImportSemaphore_OrtExternalResourceImporterImpl_int CanImportSemaphore(); public native OrtExternalResourceImporterImpl CanImportSemaphore(CanImportSemaphore_OrtExternalResourceImporterImpl_int setter);

  /** \brief Import an external semaphore.
   *
   * The EP creates a derived type of OrtExternalSemaphoreHandle and returns a pointer to the base.
   * EP is responsible for the lifetime of the handle (release via ReleaseSemaphore).
   *
   * @param this_ptr [in] Pointer to the OrtExternalResourceImporterImpl instance.
   * @param desc [in] Descriptor containing the external semaphore handle and type.
   * @param out_handle [out] Output parameter set to the created OrtExternalSemaphoreHandle (EP's derived type).
   *
   * \snippet{doc} snippets.dox OrtStatus Return Value
   *
   * @since Version 1.24.
   */
  public native OrtStatus ImportSemaphore(
                    OrtExternalResourceImporterImpl this_ptr,
                    @Const OrtExternalSemaphoreDescriptor desc,
                    @Cast("OrtExternalSemaphoreHandle**") PointerPointer out_handle);
  public native OrtStatus ImportSemaphore(
                    OrtExternalResourceImporterImpl this_ptr,
                    @Const OrtExternalSemaphoreDescriptor desc,
                    @ByPtrPtr OrtExternalSemaphoreHandle out_handle);

  /** \brief Release an imported external semaphore handle.
   *
   * The EP deletes its derived type instance.
   *
   * @param this_ptr [in] Pointer to the OrtExternalResourceImporterImpl instance.
   * @param handle [in] The OrtExternalSemaphoreHandle to release (EP casts to its derived type).
   *
   * @since Version 1.24.
   */
  public static class ReleaseSemaphore_OrtExternalResourceImporterImpl_OrtExternalSemaphoreHandle extends FunctionPointer {
      static { Loader.load(); }
      /** Pointer cast constructor. Invokes {@link Pointer#Pointer(Pointer)}. */
      public    ReleaseSemaphore_OrtExternalResourceImporterImpl_OrtExternalSemaphoreHandle(Pointer p) { super(p); }
      protected ReleaseSemaphore_OrtExternalResourceImporterImpl_OrtExternalSemaphoreHandle() { allocate(); }
      private native void allocate();
      public native void call(
              OrtExternalResourceImporterImpl this_ptr,
              OrtExternalSemaphoreHandle handle);
  }
  public native ReleaseSemaphore_OrtExternalResourceImporterImpl_OrtExternalSemaphoreHandle ReleaseSemaphore(); public native OrtExternalResourceImporterImpl ReleaseSemaphore(ReleaseSemaphore_OrtExternalResourceImporterImpl_OrtExternalSemaphoreHandle setter);

  /** \brief Wait on an external semaphore on the EP's stream.
   *
   * Inserts a wait operation into the EP's stream that blocks until the semaphore
   * reaches the specified value.
   *
   * @param this_ptr [in] Pointer to the OrtExternalResourceImporterImpl instance.
   * @param handle [in] The imported external semaphore (EP casts to its derived type).
   * @param stream [in] The OrtSyncStream to wait on.
   * @param value [in] The fence/semaphore value to wait for.
   *
   * \snippet{doc} snippets.dox OrtStatus Return Value
   *
   * @since Version 1.24.
   */
  public native OrtStatus WaitSemaphore(
                    OrtExternalResourceImporterImpl this_ptr,
                    OrtExternalSemaphoreHandle handle,
                    OrtSyncStream stream,
                    @Cast("uint64_t") long value);

  /** \brief Signal an external semaphore from the EP's stream.
   *
   * Inserts a signal operation into the EP's stream that sets the semaphore
   * to the specified value when reached.
   *
   * @param this_ptr [in] Pointer to the OrtExternalResourceImporterImpl instance.
   * @param handle [in] The imported external semaphore (EP casts to its derived type).
   * @param stream [in] The OrtSyncStream to signal from.
   * @param value [in] The fence/semaphore value to signal.
   *
   * \snippet{doc} snippets.dox OrtStatus Return Value
   *
   * @since Version 1.24.
   */
  public native OrtStatus SignalSemaphore(
                    OrtExternalResourceImporterImpl this_ptr,
                    OrtExternalSemaphoreHandle handle,
                    OrtSyncStream stream,
                    @Cast("uint64_t") long value);

  // Release the capability object itself

  /** \brief Release the OrtExternalResourceImporterImpl instance.
   *
   * This is called by ORT when the OrtExternalResourceImporterImpl instance is no longer needed.
   * The implementation should release any resources held by the instance.
   *
   * @param this_ptr [in] Pointer to the OrtExternalResourceImporterImpl instance.
   *
   * @since Version 1.24.
   */
  public static class Release_OrtExternalResourceImporterImpl extends FunctionPointer {
      static { Loader.load(); }
      /** Pointer cast constructor. Invokes {@link Pointer#Pointer(Pointer)}. */
      public    Release_OrtExternalResourceImporterImpl(Pointer p) { super(p); }
      protected Release_OrtExternalResourceImporterImpl() { allocate(); }
      private native void allocate();
      public native void call( OrtExternalResourceImporterImpl this_ptr);
  }
  public native Release_OrtExternalResourceImporterImpl Release(); public native OrtExternalResourceImporterImpl Release(Release_OrtExternalResourceImporterImpl setter);
}
